<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Movimiento Financiero</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/6.1.2/css/all.min.css}">
</head>
    <header th:replace="layout/plantilla :: header"></header>
  <h1>Registro de Movimientos Financieros</h1>


    <a th:href="@{/RegistroFinanciero/Ingreso}">Crear Ingreso</a><br>
    <a th:href="@{/RegistroFinanciero/Egreso}">Crear Egreso</a><br>

    <table border="1">
        <tr>
            <th>Tipo Movimiento</th>
            <th>Fecha</th>
            <th>Valor</th>
            <th>Concepto</th>
            <th>Usuario</th>
            <th>Empresa</th>
        </tr>

        <tr th:each = " ingreso: ${listIngreso}">
            <td th:text="${ingreso.tipoMovDinero}"></td>
            <td th:text="${ingreso.fechaIngreso}"></td>
            <td th:text="${ingreso.valorIngreso}"></td>
            <td th:text="${ingreso.conceptoIngreso}"></td>
            <td th:text="${ingreso.userMovDinero.nombreUsuario} + ${ingreso.userMovDinero.apellidoUsuario}"></td>
            <td th:text="${ingreso.empresaMovDinero.razonSocialEmpresa}"></td>
        </tr>
        <tr>
            <th>Total Ingresos</th>
            <td th:text="${totalIngreso}"></td>
        </tr>

    </table>
    <br>

    <table border="1">
        <tr>
            <th>Tipo Movimiento</th>
            <th>Fecha</th>
            <th>Valor</th>
            <th>Concepto</th>
            <th>Usuario</th>
            <th>Empresa</th>
        </tr>
        <tr th:each = "Egreso : ${listEgreso}">
            <td th:text="${Egreso.tipoMovDinero}"></td>
            <td th:text="${Egreso.fechaEgreso}"></td>
            <td th:text="${Egreso.valorEgreso}"></td>
            <td th:text="${Egreso.conceptoEgreso}"></td>
            <td th:text="${Egreso.userMovDinero.nombreUsuario} + ${Egreso.userMovDinero.apellidoUsuario}"></td>
            <td th:text="${Egreso.empresaMovDinero.razonSocialEmpresa}"></td>
        </tr>
        <tr>
            <th>Total Egresos</th>
            <td th:text="${totalEgreso}"></td>
        </tr>


    </table>
    <footer th:replace="layout/plantilla :: footer"></footer>
    <script th:src="@{/webjars/bootstrap/5.2.0/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/webjars/popper/js/2.9.3/umd/popper.min.js}"></script>

<body>

</body>
</html>